<form #clienteForm="ngForm">
  <ion-grid class="no-padding">
    <ion-row>
      <ion-col col-3 class="custom-input">
        <div class="input-item-label">cognome (<span class="required">*</span>)</div>
        <ion-item>
          <ion-input [(ngModel)]="pratica.P1_Cognome" name="Cognome"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col col-3 class="custom-input">
        <div class="input-item-label">nome (<span class="required">*</span>)</div>
        <ion-item>
          <ion-input [(ngModel)]="pratica.P1_Nome" name="Nome"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col col-3 class="custom-input">
        <div class="input-item-label">ragione sociale (<span class="required">*</span>)</div>
        <ion-item>
          <ion-input [(ngModel)]="pratica.P1_RagioneSociale" [ngModelOptions]="{standalone: true}"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col col-3 class="custom-input">
        <div class="input-item-label">partita iva</div>
        <ion-item>
          <ion-input [(ngModel)]="pratica.P1_PartitaIva" [ngModelOptions]="{standalone: true}"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-3 class="custom-input">
        <!--<div class="input-item-label">sesso</div>-->
        <ion-item>
          <select-input label="sesso" interface="popover" [(ngModel)]="pratica.P1_Sesso" [ngModelOptions]="{standalone: true}" [options]="sessoOptions"></select-input>   
          <!--<ion-input [(ngModel)]="pratica.P1_Sesso" [ngModelOptions]="{standalone: true}" maxlength="1"></ion-input>-->
        </ion-item>
      </ion-col>
      <ion-col col-3 class="custom-input">
        <date-input label="data di nascita" [(ngModel)]="pratica.P1_DataNascita" [ngModelOptions]="{standalone: true}"></date-input>
      </ion-col>
      <ion-col col-3 class="custom-input">
        <div class="input-item-label">nazione di nascita <span class="required">*</span></div>
        <div class="ngb-typeahead-input">
          <input type="text" class="text-input" 
                [value]="pratica.P1_LuogoNascitaNazione" 
                [ngbTypeahead]="searchCounty" 
                [resultTemplate]="rt" 
                [inputFormatter]="typeahead_formatter" 
                [disabled]="countries.length == 0"
                (selectItem)="onSelectCountyOfBirth($event.item)"
                placeholder="<Digita la nazione di nascita>" required>
          <div class="typeahead-icon"></div>
        </div>
      </ion-col>
      <ion-col col-3 class="custom-input">
        <div class="input-item-label">comune di nascita</div>
        <div class="ngb-typeahead-input">
          <input type="text" class="text-input" 
                  [value]="pratica.P1_LuogoNascita" 
                  [ngbTypeahead]="searchCities" 
                  [resultTemplate]="rt" 
                  [inputFormatter]="typeahead_formatter" 
                  [disabled]="cities.length == 0"
                  (selectItem)="onSelectCityOfBirth($event.item)"
                  placeholder="<Digita il comune di nascita>">   
          <div class="typeahead-icon"></div>   
        </div>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-3 class="custom-input">
        <div class="input-item-label">codice fiscale</div>
        <ion-item>
          <ion-input [(ngModel)]="pratica.P1_CodiceFiscale" [ngModelOptions]="{standalone: true}"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col col-6 class="custom-input">
        <div class="input-item-label">indirizzo</div>
        <ion-item>
          <ion-input [(ngModel)]="pratica.P1_ResidenzaIndirizzo" [ngModelOptions]="{standalone: true}"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col col-3 class="custom-input">
        <div class="input-item-label">cap</div>
        <ion-item>
          <ion-input [(ngModel)]="pratica.P1_ResidenzaCap" [ngModelOptions]="{standalone: true}"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    
    <ion-row>
      <ng-template #rt let-r="result" let-t="term">                
        {{ r.name }}
      </ng-template>
      <ion-col col-3 class="custom-input">
        <div class="input-item-label">nazione</div>
        <div class="ngb-typeahead-input">
          <input type="text" class="text-input" 
                [value]="pratica.P1_ResidenzaNazione" 
                [ngbTypeahead]="searchCounty" 
                [resultTemplate]="rt" 
                [inputFormatter]="typeahead_formatter" 
                [disabled]="countries.length == 0"
                (selectItem)="onSelectCounty($event.item)"
                placeholder="<Digita la nazione>">
          <div class="typeahead-icon"></div>
        </div>        
      </ion-col>
      <ion-col col-3 class="custom-input">
        <div class="input-item-label">comune</div>
        <div class="ngb-typeahead-input">
          <input type="text" class="text-input" 
                  [value]="pratica.P1_ResidenzaComune" 
                  [ngbTypeahead]="searchCities" 
                  [resultTemplate]="rt" 
                  [inputFormatter]="typeahead_formatter" 
                  [disabled]="cities.length == 0"
                  (selectItem)="onSelectCity($event.item)"
                  placeholder="<Digita il comune>">   
          <div class="typeahead-icon"></div>     
        </div>
      </ion-col>
      <ion-col col-6></ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6 class="custom-input">
        <div class="input-item-label">e-mail</div>
        <ion-item>
          <ion-input [(ngModel)]="pratica.P1_Email" [ngModelOptions]="{standalone: true}"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col col-3 class="custom-input">
        <div class="input-item-label">telefono</div>
        <ion-item>
          <ion-input [(ngModel)]="pratica.P1_Telefono" [ngModelOptions]="{standalone: true}"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col col-3 class="custom-input">
        <div class="input-item-label">cellulare</div>
        <ion-item>
          <ion-input [(ngModel)]="pratica.P1_Cellulare" [ngModelOptions]="{standalone: true}"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-12 class="custom-input">
        <div class="input-item-label">NOTE</div>
        <ion-item>
          <ion-textarea [(ngModel)]="pratica.P1_Note" [ngModelOptions]="{standalone: true}"></ion-textarea>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-12>
        (<span class="required">*</span>) Inserire nome e cognome oppure ragione sociale
      </ion-col>
    </ion-row>
  </ion-grid>
</form>

<div class="submit-row">
  <div class="pull-left">
    <button ion-button outline color="secondary" (click)="onBackTab.emit()">INDIETRO</button>
  </div>
  <div class="pull-right">
    <button ion-button color="secondary" [disabled]="!clienteForm.form.valid" (click)="onNextTab.emit()">{{globals.praticaTipoID == 100 || globals.praticaTipoID == 101 ? 'SALVA' : 'AVANTI'}}</button>
  </div>
</div>